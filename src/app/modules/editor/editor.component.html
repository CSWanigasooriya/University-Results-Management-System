<div class="pushed-content">
  <div class="row">
    <div class="col s12 m12 l8">
      <div class="card">
        <div class="card-content">
          <span class="card-title">Semester Overview</span>
          <div *ngIf="panelOpenState" class="card-panel red lighten-3">#Note: You have not been assigned to a module
            yet, please email your HOD about this issue using the bottom right link.<a class="black-text right"
              (click)="panelOpenState=!panelOpenState"><i class="material-icons">close</i></a></div>
          <div class="row">
            <div class="col s12 m4 l4">
              <div class="card blue-grey darken-1 hoverable">
                <div class="card-content white-text">
                  <span class="card-title">Overview</span>
                  <i class="material-icons right">keyboard_arrow_up</i>
                  <p>{{getMostGrades().value}} students obtained marks within the range {{getMostGrades().index}}.
                  </p>
                </div>
                <div class="card-action blue-grey darken-2">

                </div>
              </div>
            </div>
            <div class="col s12 m4 l4">
              <div class="card blue darken-3 hoverable">
                <div class="card-content white-text">
                  <span class="card-title">Repeats</span>
                  <i class="material-icons right">keyboard_arrow_up</i>
                  <p>{{results[11]}} students obtained grades below C- for your modules</p>
                </div>
                <div class="card-action blue darken-4">

                </div>
              </div>
            </div>
            <div class="col s12 m4 l4">
              <div class="card teal darken-1 hoverable">
                <div class="card-content white-text">
                  <span class="card-title">Top Results</span>
                  <i class="material-icons right">keyboard_arrow_up</i>
                  <p>{{results[0] + results[1] + results[2]}} students obtained grades above A- for your modules</p>
                </div>
                <div class="card-action teal darken-2">

                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <mat-tab-group mat-align-tabs="end">
              <mat-tab *ngFor="let set of groupedByModule[0];" [label]="set.group">
                <div *ngIf="results.length === 1" class="card-panel red lighten-3">#Note: Marksheets for {{set.group}}
                  have not been uploaded yet.</div>
                <app-datachart [type]="'bar'" [module]="set.group"></app-datachart>
              </mat-tab>
            </mat-tab-group>
          </div>
        </div>
      </div>
    </div>
    <div class="col s12 m12 l4">
      <div class="card">
        <div class="card-content">
          <span class="card-title">
            Notice
          </span>
          <fieldset *ngFor="let note of notice">
            <legend>{{note.date}}</legend>
            <p><b>Name: </b>{{note.name}} <br>
              <b>Notice: </b> {{note.message}}</p>
          </fieldset>
        </div>
      </div>
      <div class="card">
        <div class="card-content">
          <span class="card-title">
            Your Modules
          </span>
          <ul class="collection">
            <li class="collection-item" *ngFor="let set of groupedByModule[0]">
              <p>{{set.data[0].mod_name}}<br>
                {{set.group}}
              </p>
            </li>
          </ul>
        </div>
        <div class="card-action">
          <button class="btn"
            onclick='location.href = "mailto:chamathwanigasooriya@gmail.com?subject=Replace&body=Type"'>Email: Head of
            Department</button>
        </div>

      </div>
    </div>
  </div>
</div>