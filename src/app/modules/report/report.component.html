<div class="pushed-content">
  <div class="row">
    <div class="col s12 m12 l12">
      <div class="card">
        <div class="card-content">
          <span class="card-title">Generate Report</span>

          <div class="card grey lighten-3">
            <div class="card-content">
              <div class="row">
                <div class="col s4">
                  <p><b>Intake:</b></p>
                  <mat-form-field appearance="fill">
                    <mat-label>Select Intake</mat-label>
                    <mat-select required [formControl]="intake">
                      <mat-option *ngFor="let elem of groupedByIntake[0]" [value]="elem.group">{{elem.group}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="intake.hasError('required')">Please choose an Intake</mat-error>
                  </mat-form-field>
                  <p><b>Module ID:</b><br> </p>
                  <mat-form-field appearance="fill">
                    <mat-label>Select Module</mat-label>
                    <mat-select required [formControl]="module">
                      <mat-option *ngFor="let mod of groupedByModule[0]" [value]="mod.group">{{mod.group}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="module.hasError('required')">Please choose a module</mat-error>
                  </mat-form-field>
                  <p><b>Student ID:</b><br> </p>
                  <mat-form-field appearance="fill">
                    <mat-label>Select Module</mat-label>
                    <mat-select required [formControl]="index">
                      <mat-option *ngFor="let res of results" [value]="res.st_id">{{res.st_id}}
                      </mat-option>
                    </mat-select>
                    <mat-error *ngIf="index.hasError('required')">Please choose a module</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <button class="btn" (click)="hide.report=!hide.report" [disabled]="!module.valid || !intake.valid || !index.valid">next<i
                  class="material-icons right">arrow_forward_ios</i></button>
            </div>
          </div>

          <div class="row">
            <div class="col s12">
              <div style="display: block; width: 99%;">
                <canvas baseChart 
                    [datasets]="lineChartData" 
                    [labels]="lineChartLabels" 
                    [options]="lineChartOptions"
                    [colors]="lineChartColors" 
                    [legend]="lineChartLegend" 
                    [chartType]="lineChartType" 
                    [plugins]="lineChartPlugins">
                    </canvas>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>